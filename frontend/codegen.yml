schema:
  - "../api/src/graphql/generated/schema.graphql"
generates:
  src/generated/graphql.ts:
    schema:
      - "../api/src/graphql/generated/schema.graphql"
    documents: "src/graphql/**/*.graphql"

    config:
      strictScalars: true

      scalars:
        DateTime: string

    plugins:
      - "typescript"
      - "typescript-operations"
      - "typed-document-node"

  src/generated/graphql-deprecated.ts:
    documents: "src/graphql-deprecated/**/*.graphql"
    schema: "../backend/**/schema.json"
    plugins:
      - "typescript"
      - "typescript-operations"
      - "typed-document-node"
hooks:
  afterAllFileWrite:
    - eslint --fix
    - prettier --write
